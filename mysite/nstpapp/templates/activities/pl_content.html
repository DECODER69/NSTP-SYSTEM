<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>platoon content</title>
    <link rel="icon" href="../../static/images/tup.png">
    <link rel="stylesheet" href="../../static/admin_css/pl_content.css">
</head>

<body>
    {% include 'activities/admin_nav.html' %}

    <section class="home-section">
        <div class="heads">{% for s in getSection %}
            <a href="/create_platoon_page" style="color: white; text-decoration:none;">
                <h1 class="text"><i class='bx bxs-dashboard'></i> Manage Students</h1>
            </a> | {{s.section_created}}<br>{% endfor %}
        </div>
        <div class="bg">
            <div class="overall">
                <div class="left">
                    <h1 style="font-size: 25px;">All Students</h1>
                    <p1 style="color:green; font-size:15px; font-weight:bold;"><i class='bx bx-check' style="vertical-align:middle; font-size: 20px; color:green; font-weight:bolder;"></i> {{content33}} Active Students</p1>
                    <br>&nbsp;<br>
                    <div class="table-responsive">


                        <table class="table">
                            <thead>
                                <tr style="color: rgb(79, 79, 79);">
                                    <th scope="col">Profile</th>
                                    <th scope="col">ID Number</th>
                                    <th scope="col">Full name</th>
                                    <th scope="col">Course / Section</th>
                                    <th scope="col">Last login</th>
                                    <th scope="col">Update Status</th>
                                    <th scope="col">Action</th>


                                </tr>
                            </thead>
                            <tbody>
                                {% for s in content3 %}
                                <tr>
                                    <th scope="row"><img src="{{s.picture.url}}" alt="profile pic" id="profile_pic"></th>
                                    <td>{{s.idnumber}}</td>
                                    <td>{{s.firstname}} {{s.middlename}} {{s.lastname}}</td>
                                    <td>{{s.section}}</td>

                                    {% for l in userContent %} {% if l.username == s.idnumber %}
                                    <td style="color: green;">{{l.last_login }}</td>
                                    {% endif %} {% endfor %}
                                    <td>
                                        <select name="status" id="status">
                                            <option value="">{{s.status}}</option>
                                            <option value="">DROP</option>
                                            <option value="">GRADUATE</option>
                                        </select>
                                    </td>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>

                </div><br>&nbsp;<br>&nbsp;<br>
            </div>
        </div>
    </section>


    <script>
        $(function() {
            $('table.table').each(function() {
                var currentPage = 0;
                var numPerPage = 10;
                var $table = $(this);
                $table.bind('repaginate', function() {
                    $table.find('tbody tr').hide().slice(currentPage * numPerPage, (currentPage + 1) * numPerPage).show();
                });
                $table.trigger('repaginate');
                var numRows = $table.find('tbody tr').length;
                var numPages = Math.ceil(numRows / numPerPage);
                var $pager = $('<div class="pager"></div>');
                var $previous = $('<span class="previous"><<</spnan>');
                var $next = $('<span class="next">>></spnan>');
                for (var page = 0; page < numPages; page++) {
                    $('<span class="page-number"></span>').text(page + 1).bind('click', {
                        newPage: page
                    }, function(event) {
                        currentPage = event.data['newPage'];
                        $table.trigger('repaginate');
                        $(this).addClass('active').siblings().removeClass('active');
                    }).appendTo($pager).addClass('clickable');
                }
                $pager.insertAfter($table).find('span.page-number:first').addClass('active');
                $previous.insertBefore('span.page-number:first');
                $next.insertAfter('span.page-number:last');

                $next.click(function(e) {
                    $previous.addClass('clickable');
                    $pager.find('.active').next('.page-number.clickable').click();
                });
                $previous.click(function(e) {
                    $next.addClass('clickable');
                    $pager.find('.active').prev('.page-number.clickable').click();
                });
                $table.on('repaginate', function() {
                    $next.addClass('clickable');
                    $previous.addClass('clickable');

                    setTimeout(function() {
                        var $active = $pager.find('.page-number.active');
                        if ($active.next('.page-number.clickable').length === 0) {
                            $next.removeClass('clickable');
                        } else if ($active.prev('.page-number.clickable').length === 0) {
                            $previous.removeClass('clickable');
                        }
                    });
                });
                $table.trigger('repaginate');
            });
        });
    </script>

    <!-- for editing tables -->
    <script src="extensions/editable/bootstrap-table-editable.js"></script>

</body>

</html>